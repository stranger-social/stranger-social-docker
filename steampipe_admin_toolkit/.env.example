# Steampipe Admin Toolkit Environment Configuration
# Copy this file to .env and fill in your values

# ========================================
# Mastodon API Configuration (Preferred)
# ========================================

# Your Mastodon instance domain (used for API calls)
MASTODON_LOCAL_DOMAIN=https://stranger.social

# Admin API Access Token
# To generate: Log in as admin -> Settings -> Development -> New Application
# Required scopes: read:accounts, read:reports, read:statuses, read:federation
MASTODON_ADMIN_API_TOKEN=your_access_token_here

# ========================================
# Optional: Direct Database Connection
# ========================================

# PostgreSQL Host (usually 'postgres' if using shared docker network, or your host IP)
MASTODON_DB_HOST=postgres

# PostgreSQL Port
MASTODON_DB_PORT=5432

# Mastodon Database Name
MASTODON_DB_NAME=mastodon_production

# Database User
MASTODON_DB_USER=mastodon

# Database Password (REQUIRED - copy from main .env)
MASTODON_DB_PASSWORD=your_secure_password_here

# SSL Mode for DB connection: disable, allow, prefer, require
# Use 'disable' for local Docker networks, 'require' for remote databases
MASTODON_DB_SSLMODE=disable

# ========================================
# Instance Configuration
# ========================================

# Your Mastodon instance domain (used for filtering/labeling only)
MASTODON_LOCAL_DOMAIN=example.com

# ========================================
# Safety Configuration
# ========================================

# Enable safe mode: restricts queries to aggregate-only queries
# When true, queries that could expose user details are disabled
ADMIN_TOOLKIT_SAFE_MODE=true

# Redact remote IP addresses in network queries
# When true, IPs are aggregated to /24 subnets or domain names
ADMIN_TOOLKIT_REDACT_REMOTE_IPS=true

# ========================================
# Steampipe Behavior
# ========================================

# Log level: debug, info, warn, error
STEAMPIPE_LOG_LEVEL=info

# Check for Steampipe updates
STEAMPIPE_UPDATE_CHECK=false
